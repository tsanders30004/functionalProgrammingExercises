<!DOCTYPE html>
<html>
<head>
     <meta charset="utf-8">
     <title>Functional Programming Exercises Set B</title>

     <script>

     // ## Leetspeak
     //
     // Given a paragraph of text as a string, print the paragraph in leetspeak. To translate a string to leetspeak, you need to replace make the following character replacements (treat all input characters as uppercase):
     //
     // A => 4
     // E => 3
     // G => 6
     // I => 1
     // O => 0
     // S => 5
     // T => 7
     //
     // Example: LEET => L337
     //
     // Hint: you can convert a string to an array of characters with .split('')

     var paragraph = 'I AM A STUDENT LEARNING JAVASCRIPT';

     var convertToLeet = function(p){
          return p.split('').map(function(x){
               return x.replace('A', 4).replace('E', 3).replace('G', 6).replace('I', 1).replace('O', 0).replace('S', 5).replace('T', 7);
          });
     };

     console.log(paragraph + ' in LEET is ' + convertToLeet(paragraph).join(''));

     console.log('-------------------------------------------------------------------------------------------------');

     // Given an array of objects representing basketball players:

     var players = [
          {
               name: 'Paul Millsap',
               position: 'PF',
               avgMinutesPlayed: 36,
               avgPoints: 16.4,
               avgRebounds: 9.4,
               starter: true
          },
          {
               name: 'Jeff Teague',
               position: 'PG',
               avgMinutesPlayed: 28.6,
               avgPoints: 15.6,
               avgRebounds: 1.9,
               starter: true
          },
          {
               name: 'Al Horford',
               position: 'C',
               avgMinutesPlayed: 32,
               avgPoints: 13.2,
               avgRebounds: 6.8,
               starter: true
          },
          {
               name: 'Kent Bazemore',
               position: 'SF',
               avgMinutesPlayed: 31.8,
               avgPoints: 12,
               avgRebounds: 6.6,
               starter: true
          },
          {
               name: 'Kyle Korver',
               position: 'SG',
               avgMinutesPlayed: 32.4,
               avgPoints: 11.2,
               avgRebounds: 4.9,
               starter: true
          },
          {
               name: 'Dennis Schroder',
               position: 'PG',
               avgMinutesPlayed: 18.3,
               avgPoints: 10.7,
               avgRebounds: 1.8,
               starter: false
          },
          {
               name: 'Kris Humphries',
               position: 'PF',
               avgMinutesPlayed: 14.7,
               avgPoints: 9.7,
               avgRebounds: 5.7,
               starter: false
          },
          {
               name: 'Mike Scott',
               position: 'PF',
               avgMinutesPlayed: 17.6,
               avgPoints: 7.0,
               avgRebounds: 3.6,
               starter: false
          },
          {
               name: 'Thabo Sefolosha',
               position: 'SF',
               avgMinutesPlayed: 18.9,
               avgPoints: 4.8,
               avgRebounds: 3.9,
               starter: false
          },
          {
               name: 'Mike Muscala',
               position: 'PF',
               avgMinutesPlayed: 7.4,
               avgPoints: 2.7,
               avgRebounds: 1.9,
               starter: false
          },
          {
               name: 'Tim Hardaway Jr.',
               position: 'SG',
               avgMinutesPlayed: 9.7,
               avgPoints: 2.2,
               avgRebounds: 1.0,
               starter: false
          },
          {
               name: 'Lamar Patterson',
               position: 'SG',
               avgMinutesPlayed: 5.0,
               avgPoints: 1.5,
               avgRebounds: 1.3,
               starter: false
          },
          {
               name: 'Kirk Hinrich',
               position: 'SG',
               avgMinutesPlayed: 4.5,
               avgPoints: 0.8,
               avgRebounds: 0.7,
               starter: false
          }
     ];

     // var onlyPostiveNumbers = function(someVector){
     //      return someVector.filter(function(x){return x >= 0;});
     // };



     // 1. Write a function that takes the players array and returns a new array containing only the starters.
     var startingPlayers = function(playersList){
          return playersList.filter(function(x){return x.starter});
     };
     // console.log('players = ' + players);
     console.log('starting players');
     console.log(startingPlayers(players));

     // 2. Write a function that takes the players array and returns only the point guards (position = 'PG').
     var listOfPointGuards = function(playersList){
          return playersList.filter(function(x){return x.position === 'PG'});
     };
     console.log('point guards');
     console.log(listOfPointGuards(players));

     // 3. Write a function that takes the players array and returns a new array containing the names of each player.
     var listOfPlayerNames = function(playersList){
          return playersList.map(function(x){return x.name;});
     };

     console.log('list of names');
     console.log(listOfPlayerNames(players));
     // 4. Write a function that takes the players array and returns a new array
     // containing the names of the starters.

     var namesOfStarters = function(playersList){
          return playersList.filter(function(onePlayer){
               if (onePlayer.starter) {
                    return onePlayer.name;
               }
          });
     }
     console.log('names of starters');
     console.log(namesOfStarters(players));

     // 5. Write a function that takes the players array and returns a new array containing the names of the point guards.
     var namesOfPointGuards = function(playersList){
          return playersList.filter(function(onePlayer){
               if (onePlayer.position === 'PG') {
                    return onePlayer.name;
               }
          });
     };
     console.log('names of point guards');
     console.log(namesOfPointGuards(players));

     // 6. Write a function that takes the players array and returns the sum of the avgPoints for each player.
     /* I assume he means to calculate the sum of the averages for the team */
     var avgPointsPerPlayer = function(playersList){
          return playersList.reduce(function(x, y){return x + y.avgPoints}, 0);
     };

     console.log('sum of team average');
     console.log(avgPointsPerPlayer(players));
     // 7. Write a function that takes the players array and returns the sum of the avgPoints of the starters.
     var starterAverage = function(playersList){
          return playersList.filter(function(x){return x.starter}).reduce(function(x, y){return x + y.avgPoints},0);
     };
     console.log('sum of starter average');
     console.log(starterAverage(players));

     // 8. Write a function that takes the players array and returns true if each player gets at leas 10 minutes of average playing time, and returns false otherwise
     var atLeastTenMinutes = function(playersList){
          return playersList.every(function(onePlayer){
               return onePlayer.avgMinutesPlayed >= 10.0;
          });
     };
     console.log('at least ten minutes');
     console.log(atLeastTenMinutes(players));

     // 9. Write a function that takes the players array and returns true if each starter gets at least 30 minutes of average playing time, and returns false otherwise

     var atLeastTenMinutesForStarters = function(playersList){
          return playersList.filter(function(onePlayer){
               return onePlayer.starter
          }).every(function(onePlayer2){
               return onePlayer2.avgMinutesPlayed >= 30;
          });
     };
     console.log('at least thirty minutes for starters');
     console.log(atLeastTenMinutesForStarters(players));

     // 10. Write a function that takes the players array and returns a tally object. The tally object should count the number of players in each position. It should look like:
     var tally = function(playersList){
          /* start with a list of the positions */
          var listOfPositions = [];

          listOfPositions = playersList.map(function(p){
               return p.position;
          });

          var t2 =  listOfPositions.reduce(function(t2, listOfPositions){
               if (!t2[listOfPositions]) {
                    t2[listOfPositions] = 1;
               } else {
                    t2[listOfPositions] += 1;
               }
          }, {});

          return t2;

          debugger;
     };

     var theTally = tally(players);
     console.log(theTally);
     //    {
     //      PG: 2,
     //      SG: 4,
     //      PF: 3,
     //      SF: 3,
     //      C: 1
     //    }


     console.log(tally(players));


     </script>

     </head>
     <body>

     </body>
     </html>
